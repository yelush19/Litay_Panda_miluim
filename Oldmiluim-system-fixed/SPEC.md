# 📋 אפיון מערכת ניהול תשלומי מילואים - ליטאי

## 🎯 מטרה
מערכת WEB פשוטה לניהול תשלומי מילואים - מייבוא נתוני קאנו ועד לחישוב הפרשים עם ביטוח לאומי.

---

## 📱 4 טאבים מרכזיים

### 1️⃣ טאב: דשבורד (בית)
**מה רואים:**
- 4 כרטיסים עם מספרים גדולים:
  - סה"כ עובדים
  - סה"כ ימי מילואים החודש
  - ממתינים לתשלום
  - סה"כ לתשלום (₪)
- רשימה קצרה: 5 עובדים אחרונים שעשו מילואים

**צבעים:**
- רקע: לבן/אפור בהיר (#f5f6fa)
- כרטיסים: לבן + מסגרת ירוקה עליונה (#528163)
- מספרים: ירוק כהה (#2d5f3f)

---

### 2️⃣ טאב: ניהול עובדים
**מה רואים:**
- כפתור ירוק: "➕ הוסף עובד חדש"
- טבלה:
  | שם עובד | תעודת זהות | מחלקה | תעריף יומי | סה"כ ימים | סכום צפוי | פעולות |
  
**פעולות בכל שורה:**
- 🔍 צפה בפירוט (כפתור ירוק)
- ✏️ ערוך (כפתור כחול בהיר)

**חלון קופץ - הוספת עובד:**
```
┌─────────────────────────────────┐
│  ➕ הוספת עובד חדש             │
├─────────────────────────────────┤
│  שם מלא:        [________]      │
│  ת.ז:           [_________]     │
│  מחלקה:         [▼ בחר]         │
│  תעריף יומי:    [________] ₪    │
│                                 │
│  [ביטול]    [💾 שמור]           │
└─────────────────────────────────┘
```

**צבעים:**
- כפתור ראשי: ירוק (#528163)
- כפתור משני: לבן + מסגרת ירוקה
- שורות: רקע לבן, :hover אפור בהיר

---

### 3️⃣ טאב: דוח חודשי (לביטוח לאומי)
**מה רואים:**
- בחירת חודש (dropdown) + כפתור "📥 יצוא לPDF"
- טבלה נקייה:

```
┌──────────────────────────────────────────────────────────────────┐
│  📊 דוח מילואים - יוני 2025                                      │
├────────────────┬──────────┬──────────┬────────┬────────┬─────────┤
│ שם עובד        │ מ-תאריך  │ עד-תאריך │ סה"כ   │ עבודה  │ צפוי    │
├────────────────┼──────────┼──────────┼────────┼────────┼─────────┤
│ דניאל בנדרימר  │ 01/06/25 │ 20/06/25 │ 80 ימ  │ 56 ימ  │ ₪28,000 │
│ מנפרד מרקוביץ' │ 05/06/25 │ 15/06/25 │ 145 ימ │ 100 ימ │ ₪50,000 │
└────────────────┴──────────┴──────────┴────────┴────────┴─────────┘
                                        סה"כ: ₪78,000
```

**צבעים:**
- כותרת טבלה: ירוק (#528163) + טקסט לבן
- שורות זוגיות: לבן
- שורות אי-זוגיות: אפור בהיר (#f5f6fa)
- שורת סיכום: ירוק בהיר (#8dd1bb)

---

### 4️⃣ טאב: תשלומים והפרשים
**מה רואים:**
- פילטר: "הצג: [הכל ▼] [חודש ▼]"
- כפתור: "➕ הוסף תשלום מביטוח לאומי"
- טבלה:

```
┌───────────────────────────────────────────────────────────────────────┐
│ שם עובד    │ חודש   │ צפוי    │ התקבל  │ הפרש    │ סטטוס      │ פעולות │
├────────────┼────────┼─────────┼────────┼─────────┼────────────┼────────┤
│ דניאל      │ 06/25  │ ₪28,000 │ ₪25,000│ ₪3,000  │ 🟡 ממתין   │ [עדכן] │
│ מנפרד      │ 06/25  │ ₪50,000 │ ₪50,000│ ₪0      │ ✅ שולם    │ [צפה]  │
└────────────┴────────┴─────────┴────────┴─────────┴────────────┴────────┘
```

**סטטוסים:**
- ✅ שולם מלא - ירוק (#27ae60)
- 🟡 ממתין לתשלום - כתום (#f39c12)
- 🔴 הפרש לתשלום - אדום בהיר (#e74c3c)

**חלון קופץ - הוספת תשלום:**
```
┌─────────────────────────────────────┐
│  💰 עדכון תשלום מביטוח לאומי       │
├─────────────────────────────────────┤
│  עובד:           [דניאל ▼]         │
│  חודש:           [06/2025 ▼]       │
│  סכום התקבל:     [________] ₪      │
│  תאריך קבלה:     [__/__/____]      │
│  הערות:          [________]         │
│                                     │
│  💡 הפרש אוטומטי: ₪3,000           │
│                                     │
│  [ביטול]    [💾 שמור ועדכן]        │
└─────────────────────────────────────┘
```

---

## 🎨 הנחיות עיצוב אחידות

### צבעים (ליטאי)
```
ירוק כהה ראשי:    #2d5f3f  (כותרות, לוגו)
ירוק בינוני:       #528163  (כפתורים, מסגרות)
ירוק בהיר:         #8dd1bb  (הדגשות)
אפור כהה:          #2d3436  (טקסט)
אפור בהיר:         #f5f6fa  (רקע)
```

### כפתורים
**ראשי (פעולה מרכזית):**
- רקע: #528163
- טקסט: לבן
- hover: #2d5f3f

**משני (פעולה צדדית):**
- רקע: לבן
- מסגרת: #528163
- טקסט: #528163
- hover: רקע #528163, טקסט לבן

**גודל:**
- גדול: 16px פדינג, 1.125rem טקסט
- רגיל: 12px פדינג, 1rem טקסט

### טבלאות
- כותרות: רקע #528163, טקסט לבן, משקל 600
- שורות: לבן + פס תחתון #b2bec3
- hover: רקע #f5f6fa
- פדינג: 12px-16px

### טקסט
- כותרות גדולות: 2rem, משקל 700, צבע #2d5f3f
- כותרות משנה: 1.5rem, משקל 600, צבע #528163
- טקסט רגיל: 1rem, משקל 400, צבע #2d3436
- גופן: Assistant, Heebo, Arial Hebrew

### רווחים
- בין כרטיסים: 20px
- בין קטעים: 32px
- פדינג כרטיסים: 24px
- פדינג דפים: 24px

---

## 🔧 טכנולוגיות

**Frontend:**
- React.js (קומפוננטות נפרדות)
- CSS Modules (עיצוב מבודד)
- React Router (ניווט)

**Backend:**
- Node.js + Express
- SQLite (בסיס נתונים פשוט)
- API REST

**ספריות:**
- jsPDF (יצוא PDF)
- xlsx (ייבוא/יצוא Excel)
- date-fns (תאריכים עבריים)

---

## 📊 מבנה בסיס נתונים

### טבלה: employees
```sql
id              INTEGER PRIMARY KEY
name            TEXT NOT NULL
id_number       TEXT UNIQUE
department      TEXT
daily_rate      REAL
created_at      DATETIME
```

### טבלה: reserve_duty
```sql
id              INTEGER PRIMARY KEY
employee_id     INTEGER
duty_date       DATE
department      TEXT
days            INTEGER DEFAULT 1
created_at      DATETIME
```

### טבלה: payments
```sql
id              INTEGER PRIMARY KEY
employee_id     INTEGER
month           TEXT (YYYY-MM)
expected_amount REAL
received_amount REAL
difference      REAL
payment_date    DATE
status          TEXT (pending/paid/partial)
notes           TEXT
created_at      DATETIME
```

---

## 🚀 תהליך עבודה

### שלב 1: ייבוא נתוני קאנו
1. משתמש מעלה Excel
2. מערכת קוראת ומזהה עובדים
3. שמירה בטבלאות employees + reserve_duty
4. הצגת סיכום: "נוספו 17 עובדים, 598 ימי מילואים"

### שלב 2: הוספת תעריפים
1. ניהול עובדים → לחיצה על עובד
2. הזנת תעריף יומי
3. שמירה → חישוב אוטומטי של סכומים צפויים

### שלב 3: דוח חודשי
1. בחירת חודש
2. מערכת מציגה סיכום לפי עובד
3. יצוא לPDF עם לוגו ליטאי

### שלב 4: עדכון תשלומים
1. הוספת תשלום → בחירת עובד וחודש
2. הזנת סכום שהתקבל
3. מערכת מחשבת הפרש אוטומטית
4. עדכון סטטוס

---

## ✅ Checklist פיתוח

**שלב א' - תשתית (2 ימים):**
- [ ] הקמת פרויקט React + Node
- [ ] הגדרת בסיס נתונים SQLite
- [ ] יצירת API בסיסי (CRUD)
- [ ] עיצוב מערכת צבעים

**שלב ב' - קומפוננטות (3 ימים):**
- [ ] דשבורד + כרטיסי סטטיסטיקה
- [ ] טבלת עובדים + טופס הוספה
- [ ] דוח חודשי
- [ ] תשלומים והפרשים

**שלב ג' - פיצ'רים (2 ימים):**
- [ ] ייבוא קובץ Excel מקאנו
- [ ] יצוא PDF עם עיצוב
- [ ] חישוב הפרשים אוטומטי
- [ ] התראות ומסנני חיפוש

**שלב ד' - בדיקות (1 יום):**
- [ ] בדיקת תהליכים מלאים
- [ ] תיקון באגים
- [ ] אופטימיזציה

---

## 📌 הערות חשובות

**למשתמשת עם ADHD:**
- ✅ כל מסך = מטרה אחת ברורה
- ✅ כפתורים גדולים וצבעוניים (בצבעי ליטאי)
- ✅ הודעות קצרות: "✅ נשמר!" / "❌ שגיאה"
- ✅ אין עומס מידע - רק מה שצריך
- ✅ פעולות מהירות - 2-3 קליקים מקסימום

**אבטחה:**
- ✅ גיבוי אוטומטי יומי
- ✅ הצפנת נתונים רגישים
- ✅ לוג פעולות למעקב

---

סוף האפיון. מוכן לפיתוח! 🚀
